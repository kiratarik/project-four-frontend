{"version":3,"sources":["functionLib/auth.js","components/common/Navbar.js","components/common/Home.js","functionLib/api.js","components/games/Game.js","components/games/Games.js","components/users/User.js","components/users/Users.js","components/auth/Register.js","components/auth/Login.js","components/auth/Profile.js","App.js","index.js"],"names":["getToken","window","localStorage","getItem","removeToken","removeItem","getPayload","token","tokenParts","split","length","JSON","parse","atob","Navbar","location","useLocation","React","useState","loggedIn","setLoggedIn","useEffect","payload","Math","round","Date","now","exp","isAuthenticated","pathname","className","to","onClick","Home","id","baseURL","getGames","axios","get","registerUser","formData","post","loginUser","profileUser","headers","Authorization","getHeaders","showUsers","Game","gameData","setGameData","a","res","name","join","game","data","filter","getData","description","rules","src","image","style","width","Games","history","useHistory","gamesData","setGamesData","filteredData","setFilteredData","cardClick","e","cardUrl","target","push","type","placeholder","onChange","search","value","toLowerCase","user","includes","map","backgroundImage","User","userData","setUserData","pk","toString","username","profileImage","Users","usersData","setUsersData","Register","preventDefault","register","document","querySelector","email","password","passwordConfirmation","registerForm","classList","remove","add","postRegister","Login","loginForm","login","setItem","postLogin","Profile","profileData","setProfileData","App","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0b2d4f61.chunk.js","sourcesContent":["export function setToken(token) {\n  window.localStorage.setItem('token', token)\n}\n\nexport function getToken() {\n  return window.localStorage.getItem('token')\n}\n\nexport function removeToken() {\n  window.localStorage.removeItem('token')\n}\n\n// Gets the token and parses it using the atob encoder function to get the middle string \nexport function getPayload() {\n  const token = getToken()\n  if (!token) return false\n  const tokenParts = token.split('.')\n  if (tokenParts.length < 3 ) return false\n  const payload = JSON.parse(atob(tokenParts[1]))\n  return payload \n}\n\n// Checks whether the expiry date in the token is passed its sell-by-date\nexport function isAuthenticated(){\n  const payload = getPayload()\n  if (!payload) return false\n  const timeNow = Math.round(Date.now() / 1000)\n  return timeNow < payload.exp\n}\n\n// Gets the user credentials from the token object \nexport function isOwner(userId){\n  const payload = getPayload()\n  if (!payload) return false\n  return payload.sub === userId\n}\n","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\n\nimport { isAuthenticated, removeToken } from '../../functionLib/auth.js'\n\nfunction Navbar() {\n  const location = useLocation()\n  const [loggedIn, setLoggedIn] = React.useState(false)\n\n  React.useEffect(() => {\n    setLoggedIn(isAuthenticated())\n  },[location.pathname])\n\n  function handleLogOut() {\n    removeToken()\n    setLoggedIn(false)\n  }\n\n  return (\n    <div className='navbar'>\n      <div className='navbar-main'>\n        <Link to=\"/\">Home</Link>\n        <Link to=\"/games\">Games</Link>\n        <Link to=\"/users\">Users</Link>\n      </div>\n      <div className='navbar-login'>\n        {loggedIn && \n        <>\n          <Link to='/profile'>My Profile</Link>\n          <Link to='' onClick={handleLogOut}>Log Out</Link>\n        </>\n        }\n        {!loggedIn && \n          <>\n            <Link to=\"/login\">Login</Link>\n            <Link to=\"/register\">Register</Link>\n          </>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Navbar","function Home() {\n  return (\n    <section id='home-page'>\n      <h1>Simple Games</h1>\n      <h3>A website with a selection of simple games</h3>\n    </section>\n  )\n}\n\nexport default Home","import axios from 'axios'\nimport { getToken, removeToken } from './auth.js'\n\nconst baseURL = '/api'\n\nfunction getHeaders(){\n  const token = getToken()\n  return {\n    headers: { Authorization: `Bearer ${token}` },\n  }\n}\n\n// Game requests\n\nexport function getGames() {\n  return axios.get(`${baseURL}/games/`)\n}\n\n\n// User requests\n\nexport function registerUser(formData){\n  return axios.post(`${baseURL}/auth/register/`, formData)\n}\n\nexport function loginUser(formData){\n  removeToken()\n  return axios.post(`${baseURL}/auth/login/`, formData)\n}\n\nexport function profileUser(){\n  return axios.get(`${baseURL}/auth/profile/`, getHeaders())\n}\n\nexport function showUsers(){\n  return axios.get(`${baseURL}/auth/users/`)\n}\n\n\n","import React from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { getGames } from '../../functionLib/api.js'\n\nfunction Game() {\n  const location = useLocation()\n  const [gameData, setGameData] = React.useState({})\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const res = await getGames()\n      const name = location.pathname.split('/games/').join('')\n      const game = res.data.filter(game => {\n        return (name === game.name)\n      })\n      if (game.length === 1) {\n        setGameData(game[0])\n      } \n    }\n    getData()\n  },[location.pathname])\n\n  return (\n    <>\n      <h1>Game Details</h1>\n      {gameData.name &&\n      <div>\n        <h2>{gameData.name}</h2>\n        <h4>Description:</h4>\n        <p>{gameData.description}</p>\n        <h4>Rules:</h4>\n        <p>{gameData.rules}</p>\n        <h4>Image:</h4>\n        <img src={gameData.image} style={{ width: '100%' }} />\n      </div>\n      }\n    </>\n  )\n}\n\nexport default Game","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { getGames } from '../../functionLib/api.js'\n\nfunction Games() {\n  const history = useHistory()\n  const [gamesData, setGamesData] = React.useState([])\n  const [filteredData, setFilteredData] = React.useState([])\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const res = await getGames()\n      setGamesData(res.data)\n      setFilteredData(res.data)\n    }\n    getData()\n  },[])\n\n  function cardClick(e) {\n    const cardName = e.target.id\n    const cardUrl = cardName.split(' ').join('') // Removing ' ' for url\n    history.push(`games/${cardUrl}`)\n  }\n\n  function handleSearch(e) {\n    const search = e.target.value.toLowerCase()\n    setFilteredData(gamesData.filter(user => {\n      return (user.name.toLowerCase().includes(search))\n    }))\n  }\n\n  return (\n    <>\n      <h1>Games</h1>\n      <input type='text' placeholder='Search..' onChange={handleSearch}></input>\n      <hr/>\n      {(filteredData.length > 0) && \n      (<section className='card-section'>\n        {filteredData.map(game => {\n          return (\n            <div key={game.id} \n              id={game.name}\n              style={{ backgroundImage: `url('${game.image}')` }}\n              onClick={cardClick}\n            >\n              <h2 id={game.name}>{game.name}</h2>\n            </div>\n          )\n        })}\n      </section>)\n        \n      }\n    </>\n  )\n}\n\nexport default Games","import React from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { showUsers } from '../../functionLib/api.js'\n\nfunction User() {\n  const location = useLocation()\n  const [userData, setUserData] = React.useState({})\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const res = await showUsers()\n      const id = location.pathname.split('/users/').join('')\n      const user = res.data.filter(user => {\n        return (id === user.pk.toString())\n      })\n      if (user.length === 1) {\n        setUserData(user[0])\n      } \n    }\n    getData()\n  },[location.pathname])\n\n  return (\n    <>\n      <h1>User Details</h1>\n      {userData.username &&\n      <div>\n        <h2>{userData.username}</h2>\n        <img src={userData.profileImage} style={{ width: '100%' }} />\n      </div>\n      }\n    </>\n  )\n}\n\nexport default User","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { showUsers } from '../../functionLib/api.js'\n\nfunction Users() {\n  const history = useHistory()\n  const [usersData, setUsersData] = React.useState([])\n  const [filteredData, setFilteredData] = React.useState([])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const res = await showUsers()\n      setUsersData(res.data)\n      setFilteredData(res.data)\n    }\n    getData()\n  },[])\n\n  function cardClick(e) {\n    const cardName = e.target.id\n    const cardUrl = cardName.split(' ').join('') // Removing ' ' for url\n    history.push(`users/${cardUrl}`)\n  }\n\n  function handleSearch(e) {\n    const search = e.target.value.toLowerCase()\n    setFilteredData(usersData.filter(user => {\n      return (user.username.toLowerCase().includes(search))\n    }))\n  }\n\n  return (\n    <>\n      <h1>Users</h1>\n      <input type='text' placeholder='Search..' onChange={handleSearch}></input>\n      <hr/>\n      {(filteredData.length > 0) && \n      (<section className='card-section'>\n        {filteredData.map(user => {\n          return (\n            <div key={user.pk} \n              id={user.pk}\n              style={{ backgroundImage: `url('${user.profileImage}')` }}\n              onClick={cardClick}\n            >\n              <h2 id={user.pk}>{user.username}</h2>\n            </div>\n          )\n        })}\n      </section>)\n        \n      }\n    </>\n  )\n}\n\nexport default Users","import { useHistory } from 'react-router-dom'\n\nimport { registerUser } from '../../functionLib/api.js'\n\nfunction Register() {\n  const history = useHistory()\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    const username = document.querySelector('#username').value\n    const email = document.querySelector('#email').value\n    const profileImage = document.querySelector('#profile_image').value\n    const password = document.querySelector('#password').value\n    const passwordConfirmation = document.querySelector('#password_confirmation').value\n    const register = { username, email, profileImage, password, passwordConfirmation }\n    const registerForm = document.querySelector('#register-form')\n    registerForm.classList.remove('form-red')\n\n    const postRegister = async (formData) => {\n      try {\n        await registerUser(formData)\n        registerForm.classList.remove('form-red')\n        history.push('/login/')\n      } catch (err) {\n        registerForm.classList.add('form-red')\n      }\n    }\n    postRegister(register)\n  }\n\n  return (\n    <>\n      <h1>Register</h1>\n      <form id='register-form'>\n        <label>\n          <p>Username: </p>\n          <input type='text' id='username' />\n        </label>\n        <label>\n          <p>Email: </p>\n          <input type='text' id='email' />\n        </label>\n        <label>\n          <p>Image URL: </p>\n          <input type='text' id='profile_image' />\n        </label>\n        <label>\n          <p>Password: </p>\n          <input type='password' id='password' />\n        </label>\n        <label>\n          <p>Confirm Password: </p>\n          <input type='password' id='password_confirmation' />\n        </label>\n        <div>\n          <button className='submit' type='submit' onClick={handleSubmit}>Submit</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default Register","import { useHistory } from 'react-router-dom'\n\nimport { loginUser } from '../../functionLib/api.js'\nimport { setToken } from '../../functionLib/auth.js'\n\nimport React from 'react'\n\nfunction Login() {\n  const history = useHistory()\n  \n  function handleSubmit(e) {\n    e.preventDefault()\n    const username = document.querySelector('#username').value\n    const password = document.querySelector('#password').value\n    const loginForm = document.querySelector('#login-form')\n    loginForm.classList.remove('form-red')\n    const login = { username, password }\n\n    const postLogin = async (formData) => {\n      try {\n        const res = await loginUser(formData)\n        setToken(res.data.token)\n        loginForm.classList.remove('form-red')\n        history.push('/profile')\n      } catch (err) {\n        loginForm.classList.add('form-red')\n      }\n    }\n    postLogin(login)\n  }\n\n  return (\n    <>\n      <h1>Login</h1>\n      <form id='login-form'>\n        <label>\n          <p>Username: </p>\n          <input type='text' id='username' />\n        </label>\n        <label>\n          <p>Password: </p>\n          <input type='password' id='password' />\n        </label>\n        <div>\n          <button className='submit' type='submit' onClick={handleSubmit}>Submit</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default Login","import React from 'react'\n\nimport { profileUser } from '../../functionLib/api.js'\n\nfunction Profile() {\n  const [profileData, setProfileData] = React.useState([])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const res = await profileUser()\n      setProfileData(res.data)\n    }\n    getData()\n  },[])\n\n  return (\n    <>\n      <h1>Profile</h1>\n      <h2>Username: {profileData.username}</h2>\n      <h3>Email: {profileData.email}</h3>\n      <img src={profileData.profileImage} style={{ width: '100%' }} />\n    </>\n  )\n}\n\nexport default Profile","import React from 'react'\nimport {\n  BrowserRouter,\n  Route,\n  Switch\n} from 'react-router-dom'\n\nimport Navbar from './components/common/Navbar.js'\nimport Home from './components/common/Home.js'\n\nimport Game from './components/games/Game.js'\nimport Games from './components/games/Games.js'\n\nimport User from './components/users/User.js'\nimport Users from './components/users/Users.js'\n\nimport Register from './components/auth/Register.js'\nimport Login from './components/auth/Login.js'\nimport Profile from './components/auth/Profile.js'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/games/:gameId\">\n          <Game />\n        </Route>\n        <Route path=\"/games\">\n          <Games />\n        </Route>\n        <Route path=\"/users/:userId\">\n          <User />\n        </Route>\n        <Route path=\"/users\">\n          <Users />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/profile\">\n          <Profile />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}